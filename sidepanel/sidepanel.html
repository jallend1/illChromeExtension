<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PowILL Tools</title>
    <link rel="stylesheet" href="sidepanel.css" />
    <script src="../libs/papaparse.min.js"></script>
  </head>
  <body>
    <header class="sidebar-header">
      <main>
        <img
          id="logo-left"
          class="logo-left-animation"
          src="../images/kawaii-dinosaur.png"
          alt="ILL Icon"
        />
        <div>
          <h1>PowILL Tools</h1>
          <p class="subtitle">Like POWER Tools, you see.</p>
          <p class="subtitle" id="version"></p>
        </div>
        <img
          id="logo-right"
          class="logo-right-animation"
          src="../images/kawaii-dinosaur.png"
          alt="ILL Icon"
        />
      </main>
      <div class="header-actions">
        <a href="../product-page/index.html" target="_blank" class="header-link">
          View Features
        </a>
        <button id="settings-gear" aria-label="Settings">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
        </button>
      </div>
      <footer id="countdown-container">
        <p id="countdown">Checking branch hours...</p>
        <p id="countdown-text"></p>
      </footer>
    </header>
    <main>
      <section class="scripts">
        <header>
          <h2>üì• Entering</h2>
          <img
            class="collapsible rotated"
            src="../images/collapse.svg"
            alt="Collapse"
          />
        </header>
        <main class="collapsible">
          <div>
            <button id="copyFromOCLC" class="ill-actions tooltip">
              Export Request
              <span class="tooltiptext"></span>
            </button>
          </div>
          <div class="toggles">
            <div class="toggle-container">
              <input
                type="checkbox"
                id="auto-receive-request"
                name="auto-receive-request"
                class="toggle-switch"
              />
              <label for="auto-receive-request" class="toggle-label"></label>
              <label for="auto-receive-request" class="toggle-text">
                Receive Request
              </label>
            </div>
          </div>
        </main>
      </section>
      <section class="scripts">
        <header>
          <h2>üì® Requesting</h2>
          <img
            class="collapsible rotated"
            src="../images/collapse.svg"
            alt="Collapse"
          />
        </header>
        <main class="collapsible hidden collapsed">
          <div>
            <button id="sendPatronToWorldShare" class="ill-actions tooltip">
              Send Patron Info to WorldShare
              <!-- <span class="tooltiptext"></span> -->
            </button>
          </div>
        </main>
      </section>
      <section class="scripts">
        <header>
          <h2>üì¶ Shipping</h2>
          <img
            class="collapsible"
            src="../images/collapse.svg"
            alt="Collapse"
          />
        </header>
        <main class="collapsible hidden collapsed">
          <div>
            <div>
              <button id="copyWorldShareAddress" class="ill-actions tooltip">
                Copy WorldShare Address
                <span class="tooltiptext"></span>
              </button>
            </div>
            <div class="toggles">
              <div class="toggle-container">
                <input
                  type="checkbox"
                  id="print-label"
                  name="print-label"
                  class="toggle-switch"
                />
                <label for="print-label" class="toggle-label"></label>
                <label for="print-label" class="toggle-text">
                  Print Label
                </label>
              </div>
              <div class="toggle-container">
                <input
                  type="checkbox"
                  id="auto-return-ill"
                  name="auto-return-ill"
                  class="toggle-switch"
                />
                <label for="auto-return-ill" class="toggle-label"></label>
                <label for="auto-return-ill" class="toggle-text">
                  Return Request
                </label>
              </div>
            </div>
          </div>
          <button id="virtual-shelf">
            <a href="../virtualShelf/virtualShelf.html" target="_blank"
              >Virtual Shelf</a
            >
          </button>
        </main>
      </section>
      <section class="scripts">
        <header>
          <h2>üìö Lending</h2>
          <img
            class="collapsible"
            src="../images/collapse.svg"
            alt="Collapse"
          />
        </header>
        <main class="collapsible hidden collapsed">
          <div>
            <button id="isbnSearch" class="ill-actions">
              Search Evergreen
            </button>
          </div>
          <div>
            <button id="updateAddress" class="ill-actions">
              Update ILL Account
            </button>
          </div>
        </main>
      </section>
      <section class="scripts">
        <header>
          <h2>‚è∞ Overdues</h2>
          <img
            class="collapsible"
            src="../images/collapse.svg"
            alt="Collapse"
          />
        </header>
        <main class="collapsible hidden collapsed">
          <div>
            <button id="overdueNotice" class="ill-actions tooltip">
              Generate Overdue Notice
              <span class="tooltiptext"></span>
            </button>
          </div>
          <div>
            <button id="libraryInvoice" class="ill-actions tooltip">
              Generate Library Invoice
              <span class="tooltiptext"></span>
            </button>
          </div>
        </main>
      </section>
      <!-- Settings Modal -->
      <div id="settings-backdrop" class="settings-backdrop hidden"></div>
      <div id="settings-modal" class="settings-modal hidden">
        <h3>Settings</h3>
        <div class="settings-toggles">
          <div class="toggle-container">
            <input
              type="checkbox"
              id="lending-tools"
              name="lending-tools"
              class="toggle-switch"
            />
            <label for="lending-tools" class="toggle-label"></label>
            <label for="lending-tools" class="toggle-text">
              Lending Mode
            </label>
          </div>
          <div class="toggle-container">
            <input
              type="checkbox"
              id="passive-tools"
              name="passive-tools"
              class="toggle-switch"
            />
            <label for="passive-tools" class="toggle-label"></label>
            <label for="passive-tools" class="toggle-text">
              Passive Tools
            </label>
          </div>
          <div class="toggle-container" id="disable-extension">
            <input
              type="checkbox"
              id="disable-button"
              name="disable-button"
              class="toggle-switch"
              checked
            />
            <label for="disable-button" class="toggle-label"></label>
            <label for="disable-button" class="toggle-text">
              Turn Off Extension
            </label>
          </div>
        </div>
      </div>
      <section class="scripts">
        <header>
          <h2>üìä Stats</h2>
          <img
            class="collapsible"
            src="../images/collapse.svg"
            alt="Collapse"
          />
        </header>
        <main class="collapsible hidden collapsed">
          <img
            id="jurassic-park"
            src="../images/jurassic-park-ah.gif"
            alt="Jurassic Park - No Thanks"
          />
          <button id="open-stats-page" class="coming-soon-button" disabled>
            Stats Page
            <span class="coming-soon-badge">Coming Soon</span>
            <!-- <a href="../statsPage/index.html" target="_blank">Stats Page</a> -->
          </button>
        </main>
      </section>
      <section class="scripts" id="in-development">
        <header>
          <h2>üî¨ In Development</h2>
          <img
            class="collapsible"
            src="../images/collapse.svg"
            alt="Collapse"
          />
        </header>
        <main class="hidden collapsed collapsible">
          <div>
            <button id="import-mailroom-data">Import Mailroom Data</button>
          </div>
        </main>
      </section>
      <section class="scripts" id="vendoring">
        <header>
          <h2>üè™ Vendoring</h2>
          <img
            class="collapsible"
            src="../images/collapse.svg"
            alt="Collapse"
          />
        </header>
        <main class="collapsible hidden collapsed">
          <div>
            <button id="bulkPriceCheck">Bulk Price Check</button>
          </div>
          <div id="bulk-price-container" class="hidden">
            <h4>Paste ISBNs/UPCs (one per line):</h4>
            <textarea
              id="isbn-input"
              rows="10"
              placeholder="Paste ISBNs here, one per line..."
              style="
                width: 100%;
                margin-bottom: 10px;
                padding: 5px;
                font-family: monospace;
              "
            ></textarea>
            <div style="display: flex; gap: 10px; margin-bottom: 10px; flex-wrap: wrap">
              <button id="startKinokuniya">Search Kinokuniya</button>
              <button id="startKingStone">Search KingStone</button>
              <button id="cancelBulkCheck">Cancel</button>
            </div>
            <div id="bulk-progress" class="hidden">
              <p>
                <strong>Progress:</strong> <span id="progress-text">0/0</span>
              </p>
              <p>
                <strong>Current ISBN:</strong> <span id="current-isbn">-</span>
              </p>
              <p>
                <strong>Status:</strong> <span id="status-text">Ready</span>
              </p>
            </div>
          </div>
        </main>
        <div id="last-results-controls" class="hidden" style="display: none; gap: 10px; padding: 0 10px 10px">
          <button id="showLastResults">Show Last Results</button>
          <button id="clearResults">Clear Results</button>
        </div>
      </section>
      <section class="scripts">
        <header>
          <h2>üîó Resources</h2>
          <img
            class="collapsible"
            src="../images/collapse.svg"
            alt="Collapse"
          />
        </header>
        <main class="collapsible hidden collapsed">
          <ul id="resources-list">
            <li>
              <a
                href="https://kingcountylibrarysystem.share.worldcat.org/wms/cmnd/nd/"
                target="_blank"
                class="resource-internal"
                >WorldShare</a
              >
            </li>
            <li>
              <a
                href="https://illpolicies.oclc.org/dill-ui/SignIn.do"
                target="_blank"
                class="resource-external"
                >Policies Directory</a
              >
            </li>
            <li>
              <a href="http://firstsearch.oclc.org/" target="_blank"
                class="resource-external"
                >FirstSearch</a
              >
            </li>
            <li>
              <a
                href="https://docs.google.com/spreadsheets/d/1wisjUQEoMlPOI4HKtNJ8CiMD-fHMZTq5LOTjtqqBwXo/edit?gid=0#gid=0"
                target="_blank"
                class="resource-internal"
                >List of Courier Libraries</a
              >
            </li>
            <li>
              <a
                href="https://alliance.expakship.expaklogistics.com/Login.aspx?ReturnUrl=%2fHome.aspx"
                target="_blank"
                class="resource-external"
                >ExPak Portal</a
              >
            </li>
            <li>
              <a
                href="https://www.orbiscascade.org/programs/rsf/documentation/courier/holidays/"
                target="_blank"
                class="resource-external"
                >Courier Holidays</a
              >
            </li>
            <li>
              <a
                href="https://www.google.com/maps/d/viewer?mid=1SflCygIYaRlmhQsLloZGPdAmLsSTiI9s&femb=1&ll=44.535180966202084%2C-119.43045895&z=7"
                target="_blank"
                class="resource-location"
                >Sage Libraries</a
              >
            </li>
          </ul>
        </main>
      </section>
    </main>
    <footer class="sidebar-footer">
      <a href="https://github.com/jallend1/illChromeExtension" target="_blank"
        >Github</a
      >
    </footer>
    <script type="module" src="sidepanel.js"></script>
    <script src="components/openingTimer.js"></script>
  </body>
</html>
